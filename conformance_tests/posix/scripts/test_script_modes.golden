Testing script execution modes:
Testing interactive mode detection:
stdin is not a terminal
stdout is not a terminal
PS1 is set: psh$
Shell info:
Non-interactive execution:
Testing input source handling:
Input test script
Reading line from input:
Read: []
Script completed
With piped input:
With here document:
Testing exit behavior in different modes:
Before exit
<command>:10: Parse error at position 45: Expected delimiter after here document operator
psh: EOF: command not found
chmod: tmp/modes_test/interactive_check.sh: No such file or directory
psh: tmp/modes_test/interactive_check.sh: command not found
<command>:45: Parse error at position 38: Expected delimiter after here document operator
psh: EOF: command not found
chmod: tmp/modes_test/input_test.sh: No such file or directory
psh: tmp/modes_test/input_test.sh: [Errno 2] No such file or directory
<command>:61: Parse error at position 32: Expected delimiter after here document operator
psh: here: command not found
psh: EOF: command not found
<command>:67: Parse error at position 37: Expected delimiter after here document operator
